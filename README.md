# Get Started

1. git clone https://github.com/Antoshka007/php_dz5
2. composer install
3. bower install
4. создайте папку config в корне проекта с файлом main.php

Содержание файла main.php

```
<?php
return array(
    'captcha' => array(
        'google_recaptcha_secret'     => 'Секретный ключ',
        'google_recaptcha_public'     => 'Публичный ключ',
        'google_recaptcha_script_url' => 'https://www.google.com/recaptcha/api.js',
        'google_recaptcha_url_check'  => 'https://www.google.com/recaptcha/api/siteverify'
    ),
    'email' => array(
        'adminemail' => 'Ваш email',
        'adminname'  => 'Ваше имя - администратор сайта LoftShop',
        'adminpassword' => 'Ваш пароль от почты'
    )
);
?>
```

# Документация

**Описание проекта:** *В качестве курсового проекта представлен интернет-магазин компьютерной техники, планшетов и
телефонов. Пользователь сайта может регистрироваться и делать заказы. Администратор сайта может добавлять, редактировать 
и удалять категории товаров, товары и пользователей, обрабатывать пользовательские заказы, а также производить массовую 
рассылку писем и выгрузку товаров в форматах XML и JSON.*

## Интернет-магазин глазами пользователя

### Главная страница 

![Главная страница](/presentation/main_page.jpg "Главная страница")

В верхней части главной страницы расположены: 

1. Логотип
2. Название магазина
3. Телефон для связи
4. Корзина покупателя
5. Слайдер с товарами
6. Навигационная панель
7. Поиск

**Корзина** содержит информацию о количестве выбранных товаров и общей их сумме.
 
**Навигационная панель** позволяет перемещаться на страницы:

1. О компании
2. Каталог
3. Способы оплаты
4. Контакты
5. Войти

В дальнейшем мы подробно обсудим каждую из них.

**Поиск** позволяет искать товар по его названию и перемещает пользователя на страницу поиска.

Ниже расположена небольшая информация о преимуществах компании и банер.

Еще ниже находится карусель с товарами.

### Страница Авторизации

![Страница Авторизации](/presentation/auth_page.jpg "Страница Авторизации")

Если пользователь уже зарегистрирован, то для входа в систему, ему нужно просто ввести свои email и пароль на данной
странице. Попасть сюда можно, кликнув на пункт навигации "Войти". 

Если же пользователь еще не зарегистрирован, ему следует кликнуть по ссылке "Зарегистрироваться" ниже формы.

### Страница Регистрации

![Страница Регистрации](/presentation/reg_page.jpg "Страница Регистрации")

Здесь представлена стандартная форма регистрации с повторным вводом пароля и капчей для проверки 
истинности пользователя. Также ниже расположена ссылка для перехода к форме Авторизации. 

Давайте зарегистрируем нового пользователя **leti@mail.ru**

![Регистрация нового пользователя](/presentation/reg_leti.jpg "Регистрация нового пользователя")

Если все поля были введены корректно, после нажатия на кнопку **"Зарегистрироваться"**, появится сообщение 
об успешной регистрации:

![Регистрации прошла успешно](/presentation/reg_success.jpg "Регистрации прошла успешно")

*(Согласен, не очень красиво)*

Теперь, если обновить страницу, то в панели навигации кнопка **"Войти"** заменится именем пользователя.

![Навигационная панель после авторизации](/presentation/auth_nav.jpg "Навигационная панель после авторизации")

А при наведении на имя пользователя появится кнопка **"Выйти"**

![Кнопка выход при наведении на email](/presentation/auth_nav_hover.png)

### Страница Каталог

![Страница Каталог](/presentation/cat_page.jpg "Страница Каталог")

На странице Каталог отображаются все доступные категории товаров.
При клике на категорию, открывается списко товаров соответствующей категории.

Категория **Все** содержит все товары магазина.

Давайте перейдем в категорию **"Планшеты"**.

### Страница "Список товаров категории"

![Страница "Список товаров категории"](/presentation/prod_list_page.jpg "Список товаров")

На данной странице находится список из 16 товаров с их картинками и названиями. При клике на одном из товаров
открывается страница соответствующего товара.

Внизу страницы есть навигация по данной категории товаров.

### Страница Товара

![Страница Товара](/presentation/prod_page.jpg "Страница товара")

На странице товара отображается вся информация по конкретному товару:

+ Картинка
+ Название
+ Цена
+ Производитель
+ Цвет
+ Размер
+ Операционная система
+ Описание
+ Количество товара

Также на этой странице можно добавить текущий товар в **корзину**, указав количество *(по умолчанию 1)*.

Давайте добавим этот товар, кликну по кнопке **В корзину**. При этом корзина товаров моментально обновит свои значения.

![Добавление Товара](/presentation/prod_add.jpg "Добавление товара")

Теперь перейдем на страницу оформления заказа, чтобы заказать данный товар.
Для этого кликнем по надписи **перейти в корзину**. 

### Страница Корзина

![Страница Корзина](/presentation/cart_page.jpg "Страница Корзина")

Тут мы видим информацию о выбранных товарах и общей стоимости. Можем изменять количество товаров и удалять 
товары. 

Перейдем к оформлению заказа...

### Страница Заказа

![Страница Заказа](/presentation/order_page.jpg "Страница Заказа")

На данной странице справа отображается таблица с информацие о заказе. 
А слева форма для оформления заказа, в которой пользователю нужно указать:

+ Имя
+ Фамилию
+ Адрес доставки
+ Способ доставки
+ Способ оплаты

Если пользователь уже внес личную информацию о себе в **Личном кабинете**, данные
подставляются автоматически. *(О Личном кабинете речь пойдет ниже)*

Введем данные...

![Заполненная форма заказа](/presentation/order_page_fill.jpg "Заполненная форма заказа")

и нажмен кнопку **Оформить**

![Обработка заказа](/presentation/order_processing.jpg "Обработка заказа")

После обработки появится сообщение:

![Успешная обработка заказа](/presentation/order_success.jpg "Успешная обработка заказа")

*(Согласен, не очень красиво)*

Также пользователю придет письмо о совершенном заказе на его Email адрес.

### Личный кабинет

![Личный кабинет](/presentation/account_page.jpg "Личный кабинет")

В Личном кабинете пользователь может менять свои контактные данные (кроме email).

Как вы могли заметить после заказа, наши данные сохранились. Для их изменения можно просто изменить 
одно из полей и нажать кнопку **"Сохранить"**. 

Для смены пароля пользователь должен обратиться к администрации сайта. *(К сожалению, пока не реализована функция смены пароля)*

Ниже отображается история заказов. Для отмены заказа пользователь должен связаться с администратором сайта
*(К сожалению, пока не реализована функция отмены заказа для пользователя)*

Информация о статусе заказа не отображается в личном кабинете. Но приходит на почту пользователя.

### Поиск

Для поиска товаров можно воспользоваться строкой поиска справа от навигации сайта.
Например: введем строку *Asus* и нажем на треугольничек.

![Поиск](/presentation/search_page.jpg "Поиск")

Нас перебросит на страницу поиска, где мы можем указать:

+ Название
+ Диапазон цен
+ Производителя
+ Категорию
 
![Поиск](/presentation/search_page2.jpg "Поиск")

Ниже располагается список всех товаров, удовлетворяющих поиску. Чтобы открыть страницу товара, нужно
по нему кликнуть.

### Контакты

![Контакты](/presentation/cont_page.jpg "Контакты")

На этой странице пользователь может посмотреть контактную информацию о компании:

+ Адрес
+ Телефон
+ Адрес на карте
+ Информация о менеджерах

Также внизу расположена стандартная форма для связи.

### Страница Способов оплаты

![Способы оплаты](/presentation/pay_page.jpg "Способы оплаты")

Статичная страница с информацией о способах оплаты.

***Замечание:*** *Ни один из способ оплаты не реализован в данном проекте.*

### Страница О компании

![О компании](/presentation/about_page.jpg "О компании")

Статичная страница с информацией о компании.

### Страница 404

Если пользователь введет в адресной строке неизвестный адрес *(например: http::/www.site/idontknowwhatineed)*, откроется 
страница 404, уведомив об этом пользователя и предложив ему вернуться на главную страницу.

![Страница 404](/presentation/404_page.jpg "Страница 404")

## Интернет-магазин глазами администратора

### Страница каталогов

![Страница каталогов](/presentation/admin_catalog.jpg "Страница каталогов")

У администратора есть возможность добавлять новые категории товаров, редактировать эти категории и удалять.
При клике на кнопку "Добавить категорию", появится всплывающее окно, в котором администратору нужно будет
указать название этой категории.

### Список товаров

Зайдем в категорию **"Настольные компьютеры"**.

![Список товаров](/presentation/admin_products_list.jpg "Список товаров")

Тут администратор может добавить новый товар. А также выделить несколько товаров и удалить их.
Давайте попробуем добавить новый товар, кликнув по кнопке **"Добавить товар"**.

### Добавление товара

![Добавление товара](/presentation/admin_add_product.jpg "Добавление товара")

Тут администатору нужно ввести соответствующие поля, загрузить картинку товара и нажать на кнопку **"Добавить"**.
Товар мгновенно появится в каталоге интернет-магазина.

### Страница товара

![Страница товара](/presentation/admin_product.jpg "Страница товара")

На странице товара администратор может редактировать текущий товар и удалить его.

### Редактировани товара

![Редактировани товара](/presentation/admin_edit_product.jpg "Редактировани товара")

Эта страница идентична странице добавления товара, только с уже заполненными полями.
Для того, чтобы сохранить внесенные изменения, нужно нажать на кнопку **"Сохранить"**

### Панель администратора

![Панель администратора](/presentation/admin_panel.jpg "Панель администратора")

Для того, чтобы попать с панель администратора, нужно в адресной строке прописать "/admin/" после имени сайта.
Вверху страницы расположена навигации с помощью которой администратор может перемещаться между страницами:
- Пользователи
- Товары
- Заказы
- Рассылка

Сейчас мы по говорим о каждой из них в отдельности.

### Страница пользователей

![Страница пользователей](/presentation/admin_users.jpg "Страница пользователей")

На данной странице выводится таблица пользователей с краткой информацией о них. 
Тут же администратор может добавлять новых пользователей (Кнопка ведет на страницу регистрации),
изменять информацию о пользователях и удалять их.

При клике на кнопку **"Изменить"** открывается страница редактирования пользователя

### Редактирование пользователей

![Редактирование пользователей](/presentation/admin_edit_user.jpg "Редактирование пользователей")

Тут администратор может изменять любую информацию о пользователе (за исключением его id), добавлять в группы
и удалять из них. Группы нужны для предоставления пользователям определенных прав.

### Загрузка и выгрузка товаров

![Загрузка и выгрузка товаров](/presentation/admin_products_ud.jpg "Загрузка и выгрузка товаров")

В левом окне администратор может выгружать товары в форматах **JSON** или **XML**, указав категорию, производителей 
и максимально количество товаров.

В правом окне администратор может загрузить товары из файлов с расширением **.json** или **.xml**.

### Управление заказами

![Заказы](/presentation/admin_orders.jpg "Заказы")

Данная страница предназначена для вывода информации о всех существующих заказах. На этой странице можно удалять заказы или 
переходить к их редактированию.
Кнопка **"Добавить заказ"** ведет на страницу каталога.

### Редактирование заказа

![Редактирование заказа](/presentation/admin_edit_order.jpg "Редактирование заказа")

Тут отображается вся информаци о покупателе и заказе. Администратор может только менять статус
текущего заказа. После смены статуса и покупателю приходит сообщение на указанный email о том, что
статус заказа измене.

### Рассылка

![Рассылка](/presentation/admin_mailing.jpg "Рассылка")

Эта страница предназначена для массовой рассылки писем. Например уведомление пользователей о ближайщих скидках. 
В форме требуется указать:

- Тему
- Заголовок содержания 
- Содержание
- Выбрать группу пользователей, которые получат данное письмо. 

При клике на кнопку **"Показать превью"** справа от формы появится вид письма.
Имя *Иван* заменится на соответствующее имя получателя. 

![Рассылка](/presentation/admin_mailing_preview.jpg "Рассылка")

При клике на кнопку **"Отправить"** письмо отправится.


